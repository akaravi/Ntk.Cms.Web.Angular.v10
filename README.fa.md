# NTK CMS Web Angular v10

یک سیستم مدیریت محتوا (CMS) جامع ساخته شده با Angular 20، دارای معماری ماژولار با قابلیت‌های گسترده برای مدیریت محتوا، مدیریت کاربران و عملیات تجاری.

## 🚀 نمای کلی پروژه

NTK CMS Web یک سیستم مدیریت محتوا مدرن و غنی از ویژگی‌ها است که برای کاربردهای سطح سازمانی طراحی شده است. این سیستم راه‌حل کاملی برای مدیریت وب‌سایت‌ها، محتوا، کاربران و عملیات تجاری با معماری ماژولار ارائه می‌دهد که امکان سفارشی‌سازی و گسترش آسان را فراهم می‌کند.

### ویژگی‌های کلیدی

- **معماری ماژولار**: بیش از 30 ماژول تخصصی برای نیازهای مختلف تجاری
- **پشتیبانی چندزبانه**: بین‌المللی‌سازی داخلی (i18n) با 8 زبان
- **اپلیکیشن پیشرونده وب (PWA)**: قابلیت‌های آفلاین و طراحی سازگار با موبایل
- **ارتباطات زنده**: یکپارچه‌سازی SignalR برای به‌روزرسانی‌های زنده
- **اجزای UI پیشرفته**: Material Design با اجزای سفارشی
- **مدیریت فایل**: سیستم جامع آپلود و مدیریت فایل
- **امنیت**: کنترل دسترسی مبتنی بر نقش و احراز هویت
- **طراحی واکنش‌گرا**: رویکرد موبایل-اول با Bootstrap 5

## 📋 پیش‌نیازها

قبل از اجرای این پروژه، اطمینان حاصل کنید که موارد زیر نصب شده‌اند:

- **Node.js** (نسخه 18 یا بالاتر)
- **npm** (نسخه 9 یا بالاتر) یا **yarn**
- **Angular CLI** (نسخه 20 یا بالاتر)

### نصب

```bash
# نصب Angular CLI به صورت سراسری
npm install -g @angular/cli

# کلون کردن مخزن
git clone <repository-url>
cd Ntk.Cms.Web.Angular.v10

# نصب وابستگی‌ها
npm install
```

## 🛠️ راه‌اندازی توسعه

### 1. پیکربندی محیط

پروژه از پیکربندی‌های خاص محیط استفاده می‌کند. برای توسعه، `src/environments/environment.ts` را به‌روزرسانی کنید:

```typescript
export const environment: EnvironmentModel = {
  production: false,
  cmsServerConfig: {
    configApiServerPath: 'https://your-api-server.com/api/v3/',
    configHubServerPath: 'https://your-api-server.com/hub/',
    configFileServerPath: 'https://your-file-server.com/api/v2/',
    // ... سایر پیکربندی‌ها
  }
};
```

### 2. اسکریپت‌های موجود

```bash
# سرور توسعه
npm start
# یا
ng serve

# ساخت تولید
npm run build-prod

# توسعه PWA
npm run pwa

# تست
npm test

# ساخت‌های بهینه‌سازی شده حافظه
npm run serve1  # 4GB حافظه
npm run serve2  # 6GB حافظه
npm run serve3  # 16GB حافظه
npm run serve4  # 32GB حافظه
```

## 🏗️ معماری پروژه

### ساختار اصلی

```
src/
├── app/
│   ├── cms-modules/          # ماژول‌های اصلی CMS
│   ├── components/           # اجزای قابل استفاده مجدد UI
│   ├── core/                # سرویس‌ها و ابزارهای اصلی
│   ├── modules/             # ماژول‌های اپلیکیشن
│   └── shared/              # اجزای و ابزارهای مشترک
├── assets/                  # دارایی‌های استاتیک
└── environments/            # پیکربندی‌های محیط
```

### ماژول‌های CMS

اپلیکیشن شامل بیش از 30 ماژول تخصصی است:

#### ماژول‌های اصلی
- **Core Main**: داشبورد اصلی و عملکردهای اصلی
- **Core Module**: مدیریت ماژول
- **Core Module Log**: ثبت و ممیزی
- **Core Module Data**: مدیریت داده
- **Core Token**: مدیریت توکن و احراز هویت
- **Core Log**: ثبت سیستم

#### مدیریت محتوا
- **Article**: مدیریت مقاله و محتوا
- **Blog**: سیستم وبلاگ
- **News**: مدیریت اخبار
- **Biography**: مدیریت بیوگرافی و پروفایل
- **Catalog**: مدیریت کاتالوگ محصول

#### ماژول‌های تجاری
- **Estate**: مدیریت املاک
- **Hyper Shop**: عملکرد تجارت الکترونیک
- **Bank Payment**: پردازش پرداخت
- **Donate**: مدیریت اهدا
- **Member**: مدیریت کاربر و عضو

#### ارتباطات و پشتیبانی
- **Contact**: مدیریت تماس
- **SMS**: یکپارچه‌سازی SMS
- **Ticketing**: سیستم تیکت پشتیبانی
- **Polling**: سیستم نظرسنجی و رای‌گیری
- **API Telegram**: یکپارچه‌سازی ربات تلگرام

#### ماژول‌های فنی
- **File Manager**: آپلود و مدیریت فایل
- **Link Management**: مدیریت URL و لینک
- **Universal Menu**: سیستم منو
- **Web Designer**: سازنده بصری صفحه
- **Web Designer Builder**: ابزارهای پیشرفته ساخت صفحه
- **Data Provider**: مدیریت منبع داده
- **Chart**: تجسم داده

### اجزای مشترک

پروژه شامل بیش از 50 جزء قابل استفاده مجدد است:

- **اجزای فرم**: آپلودکننده‌های فایل، انتخاب‌کننده‌ها، تکمیل خودکار
- **اجزای نمایش**: لیست‌ها، کارت‌ها، مودال‌ها، اعلان‌ها
- **اجزای داده**: لیست‌های JSON، ویجت‌های HTML، نقشه‌ها
- **اجزای ابزاری**: دیالوگ‌های تأیید، نشانگرهای پیشرفت

## 🔧 پیکربندی

### متغیرهای محیط

گزینه‌های پیکربندی کلیدی در `environment.ts`:

```typescript
export const environment: EnvironmentModel = {
  production: false,
  mainTitle: 'سامانه مدیریتی محتوا',
  languagesDefault: 'fa',
  cmsServerConfig: {
    configApiServerPath: 'https://your-api-server.com/api/v3/',
    configHubServerPath: 'https://your-api-server.com/hub/',
    configFileServerPath: 'https://your-file-server.com/api/v2/',
    configQDocServerPath: 'https://qdoc.ir/api/chat',
  },
  cmsTokenConfig: {
    SecurityKey: 'your-security-key',
    DeviceType: DeviceTypeEnum.WebSite,
  }
};
```

### زبان‌های پشتیبانی شده

- فارسی (فارسی) - پیش‌فرض
- عربی (عربی)
- انگلیسی
- چینی (China)
- اسپانیایی
- ژاپنی
- آلمانی
- فرانسوی

## 🚀 استقرار

### ساخت تولید

```bash
# ساخت برای تولید
npm run build-prod

# ساخت با بهینه‌سازی حافظه
npm run build-prod2  # 16GB حافظه
npm run build-prod3  # 32GB حافظه
```

### استقرار PWA

```bash
# ساخت PWA
npm run pwa

# سرو PWA محلی
npm run pwa-dist
```

## 📱 اپلیکیشن پیشرونده وب (PWA)

اپلیکیشن شامل قابلیت‌های PWA است:

- **Service Worker**: عملکرد آفلاین
- **Web Manifest**: تجربه شبیه اپلیکیشن
- **طراحی واکنش‌گرا**: رویکرد موبایل-اول
- **نصب**: قابلیت افزودن به صفحه اصلی

## 🔒 ویژگی‌های امنیتی

- **احراز هویت**: احراز هویت مبتنی بر توکن
- **مجوزدهی**: کنترل دسترسی مبتنی بر نقش
- **محافظ‌ها**: محافظت مسیر با `CmsAuthGuard`
- **اینترسپتورها**: مدیریت درخواست/پاسخ HTTP
- **هدرهای امنیتی**: CSP و پیکربندی‌های امنیتی

## 🧪 تست

```bash
# اجرای تست‌های واحد
npm test

# اجرای تست‌ها با پوشش
ng test --code-coverage
```

## 📦 وابستگی‌ها

### وابستگی‌های اصلی
- **Angular 20**: چارچوب اصلی
- **Angular Material**: اجزای UI
- **Bootstrap 5**: چارچوب CSS
- **RxJS**: برنامه‌نویسی واکنشی
- **SignalR**: ارتباطات زنده

### کتابخانه‌های کلیدی
- **ntk-cms-api**: یکپارچه‌سازی API CMS
- **ntk-cms-filemanager**: مدیریت فایل
- **ngx-ntk-smart-module**: سیستم ماژول هوشمند
- **ngx-toastr**: اعلان‌ها
- **ngx-translate**: بین‌المللی‌سازی
- **leaflet**: یکپارچه‌سازی نقشه
- **apexcharts**: تجسم داده

## 🤝 مشارکت

1. Fork کردن مخزن
2. ایجاد شاخه ویژگی
3. اعمال تغییرات
4. افزودن تست در صورت لزوم
5. ارسال pull request

## 📄 مجوز

این پروژه نرم‌افزار اختصاصی است. تمامی حقوق محفوظ است.

## 🆘 پشتیبانی

برای پشتیبانی و سؤالات:
- بررسی مستندات
- بررسی مسائل موجود
- تماس با تیم توسعه

## 🔄 تاریخچه نسخه

- **v20.25.0805.1**: نسخه فعلی
- ارتقاء Angular 20
- ویژگی‌های PWA بهبود یافته
- بهبود عملکرد
- ماژول‌ها و اجزای جدید

---

**نکته**: این یک سیستم CMS جامع است که برای استفاده سازمانی طراحی شده است. قبل از استقرار در محیط‌های تولید، اطمینان حاصل کنید که پیکربندی‌های امنیتی مناسب و تست‌ها انجام شده‌اند. 

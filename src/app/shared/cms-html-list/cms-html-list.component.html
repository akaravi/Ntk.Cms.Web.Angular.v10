<div class="row" #topList>
  @if (optionTreeDisplay) {
    <div
      class="mp-0 mp-0 ps-1 pe-0"
      [ngClass]="
        publicHelper.isMobile
          ? viewTree
            ? 'menu-active menu-custom menu-box-right-custom rounded-0'
            : 'menu menu-box-right-custom rounded-0'
          : 'col-xl-3'
      "
    >
      <!--begin::tree-->
      <ng-content select="[cms-tree]"></ng-content>
      <!--end::tree-->
    </div>
  }
  <div
    class="loader-container mp-0 mp-0 ps-0 pe-1"
    [ngClass]="
      optionTreeDisplay && !this.publicHelper.isMobile
        ? 'col-xl-9'
        : 'col-xl-12'
    "
  >
    <!--begin::Header-->
    <ng-content select="[cms-header]"></ng-content>
    <ng-content select="[cms-action-header]"></ng-content>
    @if (optionHeaderDisplay) {
      <div class="card card-style">
        <div class="content mb-0 mt-0">
          @if (optionListTitle?.length > 0) {
            <p class="mb-0 color-highlight font-600">{{ optionListTitle }}</p>
          }
          <div class="d-flex justify-content-between flex-wrap">
            <div class="justify-content-end">
              <ng-content select="[cms-action-header-end]"></ng-content>
            </div>
            <div class="justify-content-start">
              <ng-content select="[cms-action-header-start]"></ng-content>
              @if (optionActionMainDisplay) {
                <a
                  (click)="actionViewMenuMain()"
                  style="padding: 8px 8px !important"
                  class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
                >
                  <i
                    class="fa fa-bars font-18"
                    style="color: #ffffff"
                    [style.transform]="
                      viewMenuMain ? 'rotate(90deg)' : 'rotate(0deg)'
                    "
                  ></i>
                </a>
              }
            </div>
          </div>
        </div>
      </div>
    }
    <!--end::Header-->

    <!--begin::action-area-->
    <ng-content select="[cms-action-area]"></ng-content>
    <!--end::action-area-->

    <!--begin::Body-->
    <div class="card card-style mb-0 mt-0 ps-0 pe-0">
      <div class="content mb-0 mt-0 ps-0 pe-0 loader-container">
        @if (optionsListInfoAreaId?.length > 0) {
          <app-progress-spinner [optionsInfoAreaId]="optionsListInfoAreaId">
          </app-progress-spinner>
        }
        <ng-content select="[cms-body]"></ng-content>
      </div>
    </div>
    <!--end::Body-->

    <!--begin::Footer-->
    @if (optionFooterDisplay) {
      <div class="card card-style">
        <div class="content mb-0">
          <ng-content select="[cms-message]"></ng-content>
          <ng-content select="[cms-footer]"></ng-content>
        </div>
      </div>
    }
    <!--end::Footer-->
  </div>
</div>
<!--begin::button-menu-->

<!--begin::cms-tree-button-->
@if (optionTreeDisplay && this.publicHelper.isMobile) {
  <div
    class="content"
    style="
      position: fixed;
      bottom: 80px;
      left: 1px;
      z-index: 99;
      min-width: 30px !important;
      height: 30px;
      margin: 0px;
    "
  >
    <div class="row">
      <div class="col-12">
        <a
          (click)="actionViewTree()"
          class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
        >
          <strong class="font-400">{{ optionCategoryTitle }}</strong>
        </a>
        <a
          (click)="actionViewTree()"
          style="padding: 8px 8px !important"
          class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
        >
          <i
            class="fa fa-bars font-18"
            style="color: #ffffff"
            [style.transform]="viewTree ? 'rotate(90deg)' : 'rotate(0deg)'"
          ></i>
        </a>
      </div>
    </div>
  </div>
}
<!--end::cms-tree-button-->

<!--begin::cms-action-main-->
@if (optionActionMainDisplay) {
  <div
    class="content"
    style="
      position: fixed;
      left: 1px;
      z-index: 99;
      min-width: 30px !important;
      height: 30px;
      margin: 0px;
    "
    [style.bottom]="
      optionTreeDisplay && this.publicHelper.isMobile ? ' 120px' : ' 80px'
    "
  >
    <div class="row">
      <div class="col-12">
        <a
          (click)="actionViewMenuMain()"
          class="btn font-13 btn-3d font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight jump"
        >
          <strong class="font-400">{{ optionMenuMainTitle }}</strong>
        </a>
        <a
          (click)="actionViewMenuMain()"
          style="padding: 8px 8px !important"
          class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
        >
          <i
            class="fa fa-bars font-18"
            style="color: #ffffff"
            [style.transform]="viewMenuMain ? 'rotate(90deg)' : 'rotate(0deg)'"
          ></i>
        </a>
      </div>
    </div>
  </div>
}
<!--end::cms-action-main-button-->
<!--begin::cms-action-row-button-->
@if (optionActionRowDisplay) {
  <div
    class="content"
    style="
      position: fixed;
      left: 1px;
      z-index: 99;
      min-width: 30px !important;
      height: 30px;
      margin: 0px;
    "
    [style.bottom]="
      optionTreeDisplay && this.publicHelper.isMobile
        ? optionActionMainDisplay
          ? ' 160px'
          : ' 120px'
        : optionActionMainDisplay
          ? ' 120px'
          : ' 80px'
    "
  >
    <div class="row">
      <div class="col-12">
        <a
          (click)="actionViewMenuItemRow()"
          class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight jump"
        >
          <strong class="font-400">{{
            optionSelectRowItemTitle | truncate: [30, "..."]
          }}</strong>
        </a>
        <a
          (click)="actionViewMenuItemRow()"
          style="padding: 8px 8px !important"
          class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
        >
          <i
            class="fa fa-bars font-18"
            style="color: #ffffff"
            [style.transform]="
              viewMenuItemRow ? 'rotate(90deg)' : 'rotate(0deg)'
            "
          ></i>
        </a>
      </div>
    </div>
  </div>
}
<!--end::cms-action-row-button-->

<!--begin::Show Menu Main content-->
<div
  class="menu menu-box-modal rounded-m shadow-xl"
  [ngClass]="viewMenuMain ? 'menu-active' : ''"
  style="display: block; width: 350px; height: 320px"
>
  <div class="menu-title">
    @if (optionMenuMainTitle?.length > 0) {
      <p class="color-highlight">
        {{ optionMenuMainTitle }}
      </p>
    }
    <h1></h1>
    <a (click)="actionViewMenuMain(false)" class="close-menu"
      ><i class="fa fa-times-circle"></i
    ></a>
  </div>
  <div class="divider divider-margins"></div>
  <!--begin::cms-action-main-->
  <div class="row text-center">
    <ng-content select="[cms-action-main]"></ng-content>
    @if (optionOnActionButtonMemo) {
      <div class="col-4">
        <a
          type="button"
          class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
          (click)="onActionButtonMemo()"
          target="_blank"
        >
          <i
            class="fa-regular fa-file-lines font-18"
            style="color: #ffffff"
          ></i>
          <br />
        </a>
        <p class="font-11 text-center opacity-70">
          {{ "ACTION.MEMO" | translate }}
        </p>
      </div>
    }
    <div class="col-4">
      <a
        type="button"
        class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
        (click)="onActionButtonExport()"
        target="_blank"
      >
        <i
          class="fa-solid fa-cloud-arrow-down font-18"
          style="color: #ffffff"
        ></i>
        <br />
      </a>
      <p class="font-11 text-center opacity-70">
        {{ "ACTION.EXPORTFILE" | translate }}
      </p>
    </div>
  </div>
  <!--end::cms-action-main-->
</div>
<!--end:: Show Menu Main content-->
<!--begin::Show Menu Row content-->
<div
  class="menu menu-box-modal rounded-m shadow-xl"
  [ngClass]="viewMenuItemRow ? 'menu-active' : ''"
  style="display: block; width: 350px; height: 320px"
>
  <div class="menu-title">
    @if (optionSelectRowItemTitle?.length > 0) {
      <p class="color-highlight">
        {{ optionSelectRowItemTitle }}
      </p>
    }
    <h1></h1>
    <a (click)="actionViewMenuItemRow(false)" class="close-menu"
      ><i class="fa fa-times-circle"></i
    ></a>
  </div>
  <div class="divider divider-margins"></div>
  <!--begin::cms-action-row-->
  <div class="row text-center">
    <ng-content select="[cms-action-row]"></ng-content>
    @if (optionOnActionButtonPrintRow) {
      <div class="col-4">
        <a
          type="button"
          class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
          (click)="onActionButtonPrintRow()"
          target="_blank"
          ><i class="fa-solid fa-print font-18" style="color: #ffffff"></i
          ><br />
        </a>
        <p class="font-11 text-center opacity-70">
          {{ "ACTION.PRINT" | translate }}
        </p>
      </div>
    }
    @if (optionOnActionButtonMemoRow) {
      <div class="col-4">
        <a
          type="button"
          class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
          (click)="onActionButtonMemoRow()"
          target="_blank"
        >
          <i
            class="fa-regular fa-file-lines font-18"
            style="color: #ffffff"
          ></i>
          <br />
        </a>
        <p class="font-11 text-center opacity-70">
          {{ "ACTION.MEMO" | translate }}
        </p>
      </div>
    }
  </div>
  <!--end::cms-action-row-->
</div>
<!--end:: Show Menu Row content-->

<app-cms-guide-notice
  [(optionView)]="viewGuideNotice"
  [Key]="optionGuideNoticeKey"
  [svg]="'assets/media/svg/icons/General/Notifications1.svg'"
>
</app-cms-guide-notice>

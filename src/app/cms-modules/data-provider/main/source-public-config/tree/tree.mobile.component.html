<div class="cms-m-body loader-container">
  <app-progress-spinner [optionsInfoAreaId]="constructorInfoAreaId">
  </app-progress-spinner>

  <!-- Header -->
  <div class="cms-m-header safe-area-top">
    <div class="cms-m-header-content">
      <h1 class="cms-m-header-title">
        {{ "TABLE." + dataModelResult?.access?.moduleEntityName | translate }}
      </h1>
      <div class="cms-m-header-spacer"></div>
      @if (dataModelResult?.access?.accessWatchRow) {
        <button
          type="button"
          class="cms-m-header-action-btn"
          (click)="onActionButtonReload()"
          [class.rotation360]="
            publicHelper.processService.process.inRunArea[constructorInfoAreaId]
          "
          aria-label="{{ 'ACTION.RELOAD' | translate }}"
        >
          <i class="fa-solid fa-refresh" aria-hidden="true"></i>
        </button>
      }
    </div>
  </div>

  <!-- Content Area -->
  <div class="cms-m-content safe-area-content">
    <div class="cms-m-list">
      @for (item of dataModelResult?.listItems; track item.id) {
        <div
          class="cms-m-list-item-wrapper"
          [class.cms-m-list-item-selected]="
            dataModelSelect?.id?.length > 0 && dataModelSelect?.id === item.id
          "
        >
          <div class="cms-m-list-item" (click)="onActionSelect(item)">
            @if (item.linkMainImageIdSrc?.length > 0) {
              <img
                class="cms-m-list-item-image"
                [src]="item.linkMainImageIdSrc"
                [alt]="item.title"
              />
            } @else {
              <div class="cms-m-list-item-image-placeholder">
                <i class="fa-solid fa-folder" aria-hidden="true"></i>
              </div>
            }
            <div class="cms-m-list-item-content">
              <div class="cms-m-list-item-title">{{ item.title }}</div>
            </div>
          </div>
        </div>
      }
      @if (!dataModelResult?.listItems || dataModelResult.listItems.length === 0) {
        <div class="cms-m-empty-state">
          <div class="cms-m-empty-state-icon">
            <i class="fa-solid fa-inbox" aria-hidden="true"></i>
          </div>
          <div class="cms-m-empty-state-text">
            {{ "MESSAGE.No_Data" | translate }}
          </div>
        </div>
      }
    </div>
  </div>
</div>

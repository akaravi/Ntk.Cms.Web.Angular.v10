@if (requestLinkUserId > 0) {
  <app-core-user-header [optionId]="requestLinkUserId"></app-core-user-header>
}
<app-cms-html-list
  [optionsListInfoAreaId]="constructorInfoAreaId"
  [optionGuideNoticeKey]="''"
  [(optionActionGuideNoticeDisplay)]="viewGuideNotice"
  (optionOnActionButtonMemoRow)="onActionButtonMemoRow()"
  (optionOnActionButtonMemo)="onActionButtonMemo()"
  (optionOnActionButtonExport)="onActionButtonExport()"
  (optionOnActionButtonPrintRow)="onActionButtonPrintRow()"
  [optionTreeDisplay]="false"
  [optionActionRowId]="tableRowSelected?.id"
  [optionActionRowDisplayMenu]="tableRowSelect2Click"
  [optionSelectRowItemTitle]="tableRowSelected?.id"
>
  <ng-container cms-tree>
    <!--begin:::::::::::::::::::::::::::::::::::::::::cms-tree-->
    --------------------------------------
    <!--end:::::::::::::::::::::::::::::::::::::::::cms-tree-->
  </ng-container>
  <ng-container cms-header>
    <!--begin:::::::::::::::::::::::::::::::::::::::::cms-header-->

    <!--end:::::::::::::::::::::::::::::::::::::::::cms-header-->
  </ng-container>
  <ng-container cms-action-header>
    <!--begin:::::::::::::::::::::::::::::::::::::::::cms-action-header-->
    <!--end:::::::::::::::::::::::::::::::::::::::::cms-action-header-->
  </ng-container>
  <ng-container cms-action-header-start>
    <!--begin:::::::::::::::::::::::::::::::::::::::::cms-action-header-start-->

    <a
      type="button"
      class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
      (click)="viewGuideNotice = !viewGuideNotice"
      target="_blank"
    >
      <i class="fa-solid fa-info font-18" style="color: #ffffff"></i>
    </a>
    <a
      type="button"
      class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
      (click)="onActionButtonReload()"
      target="_blank"
    >
      <i
        class="fa-solid fa-rotate-right font-18"
        style="color: #ffffff"
        [class.rotation360]="
          publicHelper.processService.process.inRunArea[constructorInfoAreaId]
        "
      ></i>
    </a>
    <!--end:::::::::::::::::::::::::::::::::::::::::cms-action-header-start-->
  </ng-container>
  <ng-container cms-action-header-end>
    <!--begin:::::::::::::::::::::::::::::::::::::::::cms-action-header-end-->
    <a
      (click)="optionsSearch.data.show = !optionsSearch.data.show"
      class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
    >
      <mat-slide-toggle [checked]="optionsSearch.data.show"></mat-slide-toggle
      >{{ "ACTION.SEARCH" | translate }}
    </a>
    <a
      (click)="onActionButtonStatist()"
      class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
    >
      <mat-slide-toggle [checked]="optionsStatist.data.show"> </mat-slide-toggle
      >{{ "ACTION.STATIST" | translate }}
    </a>
    <!--end:::::::::::::::::::::::::::::::::::::::::cms-action-header-end-->
  </ng-container>
  <ng-container cms-action-main>
    <!--begin:::::::::::::::::::::::::::::::::::::::::cms-action-->
    @if (dataModelResult?.access?.accessAddRow) {
      <div class="col-4">
        <a
          (click)="onActionButtonNewRow()"
          type="button"
          class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal"
          target="_blank"
          ><i class="fa-solid fa-plus font-18" style="color: #ffffff"></i> <br
        /></a>
        <p class="font-11 text-center opacity-70">
          {{ "ACTION.ADD" | translate }}
        </p>
      </div>
    }

    <!--end:::::::::::::::::::::::::::::::::::::::::cms-action-->
  </ng-container>
  <ng-container cms-action-row>
    <!--begin:::::::::::::::::::::::::::::::::::::::::cms-action-row-->
    @if (dataModelResult?.access?.accessEditRow) {
      <div class="col-4">
        <a
          (click)="onActionButtonEditRow(tableRowSelected)"
          class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta"
          target="_blank"
          ><i class="fa-solid fa-pen font-18" style="color: #ffffff"></i><br />
        </a>
        <p class="font-11 text-center opacity-70">
          {{ "ACTION.EDIT" | translate }}
        </p>
      </div>
    }
    @if (dataModelResult?.access?.accessDeleteRow) {
      <div class="col-4">
        <a
          (click)="onActionButtonDeleteRow(tableRowSelected)"
          class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red"
          target="_blank"
          ><i class="fa-solid fa-trash font-18" style="color: #ffffff"></i
          ><br />
        </a>
        <p class="font-11 text-center opacity-70">
          {{ "ACTION.DELETE" | translate }}
        </p>
      </div>
    }

    <!--end:::::::::::::::::::::::::::::::::::::::::cms-action-row-->
  </ng-container>
  <ng-container cms-action-area>
    <!--begin:::::::::::::::::::::::::::::::::::::::::cms-action-area-->
    <app-cms-search-list [(options)]="optionsSearch"></app-cms-search-list>

    <app-cms-statist-list [(options)]="optionsStatist"></app-cms-statist-list>

    <!--end:::::::::::::::::::::::::::::::::::::::::cms-action-area-->
  </ng-container>
  <ng-container cms-body>
    <!--begin:::::::::::::::::::::::::::::::::::::::::cms-body-->
    <mat-table
      [dataSource]="tableSource"
      matSort
      #tableSort="matSort"
      (matSortChange)="onTableSortData(tableSort)"
      multiTemplateDataRows
    >
      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          {{ fieldsInfo["id"]?.fieldTitle }}
        </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{ row.id }} </mat-cell>
      </ng-container>

      <!-- RecordStatus Column -->
      <ng-container matColumnDef="recordStatus">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          {{ fieldsInfo["recordStatus"]?.fieldTitle }}
        </mat-header-cell>
        <mat-cell *matCellDef="let row">
          <app-cms-enum-record-status-viewer
            [model]="row.recordStatus"
          ></app-cms-enum-record-status-viewer>
        </mat-cell>
      </ng-container>

      <!-- LinkCoreUserId Column -->
      <ng-container matColumnDef="linkCoreUserId">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          {{ fieldsInfo["linkCoreUserId"]?.fieldTitle }}
        </mat-header-cell>
        <mat-cell *matCellDef="let row">
          {{ row.linkCoreUserId }}
        </mat-cell>
      </ng-container>

      <!-- FromDate Column -->
      <ng-container matColumnDef="fromDate">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          {{ fieldsInfo["fromDate"]?.fieldTitle }}
        </mat-header-cell>
        <mat-cell *matCellDef="let row">
          {{ row.fromDate | date: "yyyy-MM-dd HH:mm" }}
        </mat-cell>
      </ng-container>

      <!-- ExpireDate Column -->
      <ng-container matColumnDef="expireDate">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          {{ fieldsInfo["expireDate"]?.fieldTitle }}
        </mat-header-cell>
        <mat-cell *matCellDef="let row">
          {{ row.expireDate | date: "yyyy-MM-dd HH:mm" }}
        </mat-cell>
      </ng-container>

      <!-- Action Column -->
      <ng-container matColumnDef="Action">
        <mat-header-cell *matHeaderCellDef>
          {{ "ACTION.FIELD" | translate }}
        </mat-header-cell>
        <mat-cell *matCellDef="let row">
          <app-cms-action-list
            [optionId]="row.id"
            [optionAccess]="dataModelResult?.access"
            (optionAction)="onActionbuttonEditRow(row)"
          ></app-cms-action-list>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="tabledisplayedColumns"></mat-header-row>
      <mat-row
        *matRowDef="let row; columns: tabledisplayedColumns"
        (click)="onActionTableRowSelect(row)"
        [class.selected]="tableRowSelected?.id === row.id"
      ></mat-row>
    </mat-table>
    <mat-paginator
      [length]="tableSource.filteredData.length"
      [pageSize]="filteModelContent.rowPerPage"
      [pageIndex]="filteModelContent.currentPageNumber - 1"
      [pageSizeOptions]="[10, 20, 50, 100]"
      (page)="onTablePageingData($event)"
    >
    </mat-paginator>
    <!--end:::::::::::::::::::::::::::::::::::::::::cms-body-->
  </ng-container>
</app-cms-html-list>


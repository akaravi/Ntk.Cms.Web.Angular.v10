<div class="cms-m-list">
  <div class="cms-m-header">
    <h2>Supplier Price List</h2>
    <button mat-raised-button color="primary" [routerLink]="['/cms/modules/crm/supplier-price-list/add']">
      افزودن
    </button>
    <button mat-stroked-button color="primary" (click)="load()" [disabled]="loading">
      Refresh
    </button>
  </div>

  <mat-progress-spinner
    *ngIf="loading"
    diameter="32"
    mode="indeterminate"
  ></mat-progress-spinner>

  <div *ngIf="data?.listItems?.length" class="cms-m-content">
    @for (row of data.listItems; track row.id) {
      <div class="cms-m-row">
        <div class="cms-m-row-field">
          <label>Product</label>
          <span>{{ row.productName }}</span>
        </div>
        <div class="cms-m-row-field">
          <label>Price</label>
          <span>{{ row.unitPrice | number }}</span>
        </div>
        <div class="cms-m-row-field">
          <label>Currency</label>
          <span>{{ row.currency }}</span>
        </div>
        <div class="cms-m-row-field">
          <label>Valid To</label>
          <span>{{ row.validTo | date }}</span>
        </div>
      </div>
    }
  </div>

  <div *ngIf="!loading && (!data || !data.listItems || data.listItems.length === 0)" class="cms-m-empty">
    No data.
  </div>
</div>

<div class="card card-style loader-container">
  <app-progress-spinner [optionsInfoAreaId]="constructorInfoAreaId">
  </app-progress-spinner>
  <div class="menu-title">
    <p class="color-highlight">{{ formInfo.formTitle }}</p>
    <a class="close-menu" (click)="onFormCancel()"
      ><i class="fa fa-times-circle"></i
    ></a>
    <hr />
  </div>
  <div class="content mb-0">
    <p class="mb-0 color-highlight font-600 font-12">
      {{ formInfo.formDescription }}
    </p>

    <!--Content-->
    <mat-dialog-content>
      <app-cms-bankpayment-grid
        [optionMasterItem]="true"
        (optionChange)="onActionSelectCalculate($event)"
        >
      </app-cms-bankpayment-grid>
      @if (viewCalculate) {
        <div class="my-5">
          @if (dataModelCalculateResult.item?.feeTax > 0) {
            <div>
              {{ "TITLE.FEETAX" | translate }}:
              {{
              dataModelCalculateResult.item?.feeTax
              | currency: " " + dataModelCalculateResult.item?.currency + " "
              }}
            </div>
          }
          <br />
          @if (dataModelCalculateResult.item?.amountPure > 0) {
            <div>
              {{ "TITLE.Amount_pure" | translate }}:
              {{
              dataModelCalculateResult.item?.amountPure
              | currency
              : " " +
              dataModelCalculateResult.item?.currency +
              "
              "
              }}
            </div>
          }
          <br />
          @if (dataModelCalculateResult.item?.feeTransport > 0) {
            <div>
              {{ "TITLE.Fee_transport" | translate }}:
              {{
              dataModelCalculateResult.item?.feeTransport
              | currency
              : " " +
              dataModelCalculateResult.item?.currency +
              "
              "
              }}
            </div>
          }
          <hr />
          @if (dataModelCalculateResult.item?.amount > 0) {
            <div>
              {{ "TITLE.Final_Amount" | translate }}:
              {{
              dataModelCalculateResult.item?.amount
              | currency: " " + dataModelCalculateResult.item?.currency + " "
              }}
            </div>
          }
        </div>
      }
    </mat-dialog-content>
    <mat-dialog-actions class="d-block mt-2">
      @if (formInfo.submitButtonEnabled) {
        <div class="form-actions">
          <button
            type="submit"
            (click)="onActionSelectBankPayment()"
            class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
            [disabled]="!viewCalculate"
            >
            <i class="fa fa-check-square-o"></i>
            {{ "ACTION.PAYMENT" | translate }}
          </button>
          <button
            type="button"
            (click)="onFormCancel()"
            class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray"
            >
            <i class="ft-x"></i> {{ "ACTION.CANCEL" | translate }}
          </button>
        </div>
      }
    </mat-dialog-actions>
    <!--Content-->
  </div>
</div>

<div class="card card-style loader-container">
  <app-progress-spinner [optionsInfoAreaId]="constructorInfoAreaId">
  </app-progress-spinner>
  <div class="content mb-0">
    <p class="mb-0 color-highlight font-600 font-12">
      {{ formInfo.formTitle }}
    </p>

    <p>
      {{ "TITLE.Be_Careful_When_Entering_Information" | translate }}
    </p>
    <!--Content-->
    <app-cms-form-result-message
      [formInfo]="formInfo"
    ></app-cms-form-result-message>
    <form (ngSubmit)="onFormSubmit()" #vform="ngForm">
      <!--begin:::::::::::::::::::::::::::::::::::::::::cms-body-->
      <mat-vertical-stepper
        (selectionChange)="onStepClick($event, stepper)"
        #stepper
        >
        @if (tokenInfo.access.userAccessAdminAllowToProfessionalData) {
          <mat-step
            label="{{ 'TITLE.Default_module_settings' | translate }}"
            state="main"
            >
            <p>
              {{
              "TITLE.Settings_that_are_used_in_the_first_assignment_of_the_module_to_the_site"
              | translate
              }}
            </p>
            @if (tokenInfo.access.userAccessAdminAllowToProfessionalData) {
              <div>
                <div
                  [innerHTML]="dataConfigSiteValuesDefaultModel | prettyjson"
                ></div>
              </div>
            }
            @if (formInfo.submitButtonEnabled) {
              <div class="ntk-button-row">
                <button
                  type="button"
                  class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray"
                  (click)="onActionBackToParent()"
                  >
                  {{ "ACTION.BACK" | translate }}
                </button>
                <button
                  type="button"
                  class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue"
                  [disabled]="!vform.form.valid"
                  matStepperNext
                  >
                  {{ "ACTION.NEXT" | translate }}
                </button>
                <button
                  type="submit"
                  class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green"
                  [disabled]="!vform.form.valid"
                  >
                  {{ "ACTION.SAVE" | translate }}
                </button>
              </div>
            }
          </mat-step>
        }
        @if (tokenInfo.access.userAccessAdminAllowToProfessionalData) {
          <mat-step
            label="{{ 'TITLE.Default_access' | translate }}"
            state="main"
            >
            <p>{{ "TITLE.Default_website_access_to_this_module" | translate }}</p>
            @if (tokenInfo.access.userAccessAdminAllowToProfessionalData) {
              <div>
                <div
                  [innerHTML]="dataConfigSiteAccessValuesDefaultModel | prettyjson"
                ></div>
              </div>
            }
            @if (formInfo.submitButtonEnabled) {
              <div class="ntk-button-row">
                <button
                  type="button"
                  class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue"
                  matStepperPrevious
                  >
                  {{ "ACTION.BEFOR" | translate }}
                </button>
                <button
                  type="button"
                  class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue"
                  [disabled]="!vform.form.valid"
                  matStepperNext
                  >
                  {{ "ACTION.NEXT" | translate }}
                </button>
                <button
                  type="submit"
                  class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green"
                  [disabled]="!vform.form.valid"
                  >
                  {{ "ACTION.SAVE" | translate }}
                </button>
              </div>
            }
          </mat-step>
        }
        <mat-step
          label="{{ 'TITLE.System_management_settings' | translate }}"
          state="main"
          >
          <p>
            {{
            "TITLE.The_whole_system_management_settings_for_this_module"
            | translate
            }}
          </p>
          @if (tokenInfo.access.userAccessAdminAllowToProfessionalData) {
            <div>
              <div [innerHTML]="dataConfigAdminMainModel | prettyjson"></div>
            </div>
          }
          @if (formInfo.submitButtonEnabled) {
            <div class="ntk-button-row">
              <button
                type="button"
                class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue"
                matStepperPrevious
                >
                {{ "ACTION.BEFOR" | translate }}
              </button>
              <button
                type="submit"
                class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green"
                [disabled]="!vform.form.valid"
                >
                {{ "ACTION.SAVE" | translate }}
              </button>
            </div>
          }
        </mat-step>
      </mat-vertical-stepper>
      <!--end:::::::::::::::::::::::::::::::::::::::::cms-body-->
    </form>
    <!--Content-->
  </div>
</div>


<div class="card card-style loader-container">
  <app-progress-spinner [optionsInfoAreaId]="constructorInfoAreaId">
  </app-progress-spinner>
  <div class="menu-title">
    <p class="color-highlight">{{ formInfo.formTitle }}</p>
    <a class="close-menu" (click)="onFormCancel()"
      ><i class="fa fa-times-circle"></i
    ></a>
    <hr />
  </div>
  <div class="content mb-0">
    <p class="mb-0 color-highlight font-600 font-12">
      {{ formInfo.formDescription }}
    </p>

    <!--Content-->
    <mat-dialog-content>
      <!-- Credit Field -->
      <mat-form-field class="ntk-full-width">
        <mat-label> {{ "TITLE.Amount" | translate }} </mat-label>
        <input
          matInput
          [(ngModel)]="dataModelCalculate.credit"
          name="dataModelCalculate.credit"
          #Credit
          currencyMask
          type="text"
          placeholder="0"
          class="form-control validate-name input-ltr-center"
          />
          <span matSuffix>{{ currency }}</span>
          @if (dataModelCalculate.credit) {
            <mat-icon
              matSuffix
              matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="dataModelCalculate.credit = 0"
              >close</mat-icon
              >
          }
          <mat-icon matSuffix>mode_edit</mat-icon>
        </mat-form-field>

        <div>
          @if (dataModelCalculate.linkSiteId > 0) {
            <div>
              {{ "TITLE.site" | translate }}:
              {{ dataModelCalculate.linkSiteId | cmssiteinfo | async }}
            </div>
          }
          @if (dataModelCalculate.linkUserId > 0) {
            <div>
              {{ "TITLE.user" | translate }}:
              {{ dataModelCalculate.linkUserId | cmsuserinfo | async }}
            </div>
          }
          @if (dataModelCalculate.linkModuleId > 0) {
            <div>
              {{ "TITLE.module" | translate }}:
              {{
              dataModelCalculate.linkModuleId
              | cmstitle: dataModelCoreModuleResult.listItems
              }}
            </div>
          }
          @if (dataModelCalculate.credit > 0) {
            <div>
              {{ "TITLE.Amount" | translate }}:
              {{ dataModelCalculate.credit | currency: " " + currency + " " }}
            </div>
          }
        </div>
      </mat-dialog-content>
      <mat-dialog-actions style="text-align: left">
        <div class="ntk-cms-html-card-message">
          <!--begin:::::::::::::::::::::::::::::::::::::::::cms-message -->
          <app-cms-form-result-message
            [formInfo]="formInfo"
          ></app-cms-form-result-message>
          <!--end:::::::::::::::::::::::::::::::::::::::::cms-message -->
        </div>
        @if (formInfo.submitButtonEnabled) {
          <div class="form-actions">
            <button
              type="button"
              (click)="onFormCancel()"
              class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray"
              >
              <i class="ft-x"></i> {{ "ACTION.CANCEL" | translate }}
            </button>
            <button
              type="submit"
              (click)="onActionButtonBuy()"
              class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green"
              >
              <i class="fa fa-check-square-o"></i>
              {{ "ACTION.PAYMENT" | translate }}
            </button>
          </div>
        }
      </mat-dialog-actions>
      <!--Content-->
    </div>
  </div>

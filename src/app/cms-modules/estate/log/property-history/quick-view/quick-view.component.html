<div
  class="card card-style loader-container"
  style="height: 100vh; overflow-y: auto"
  >
  <app-progress-spinner [optionsInfoAreaId]="constructorInfoAreaId">
  </app-progress-spinner>
  <div class="menu-title">
    <p class="color-highlight">{{ formInfo.formTitle }}</p>
    <a class="close-menu" (click)="onFormCancel()"
      ><i class="fa fa-times-circle"></i
    ></a>
    <hr />
  </div>
  <div class="content mb-0">
    <p class="mb-0 color-highlight font-600 font-12">
      {{ formInfo.formDescription }}
    </p>
    <!--Content-->
    @if (!this.publicHelper.processService.process.inRunAll) {
      <div class="ntk-cms-html-card-header">
        <!--begin:::::::::::::::::::::::::::::::::::::::::cms-header-->
        @if (formInfo.submitButtonEnabled) {
          <div class="form-actions">
            <button
              type="button"
              (click)="onFormCancel()"
              class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray"
              >
              <i class="ft-x"></i> {{ "ACTION.CANCEL" | translate }}
            </button>
            @if (requestNextItem && requestNextItem?.id?.length > 0) {
              <button
                type="button"
                (click)="onActionNext()"
                class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray"
                >
                <i class="ft-x"></i>
                <
              </button>
            }
            @if (requestPerviousItem && requestPerviousItem?.id?.length > 0) {
              <button
                type="button"
                (click)="onActionPervious()"
                class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray"
                >
                <i class="ft-x"></i>
                >
              </button>
            }
          </div>
        }
        <!--end:::::::::::::::::::::::::::::::::::::::::cms-header-->
      </div>
      <div class="ntk-cms-html-card-body ntk-allow-text-selection" dir="rtl">
        <!--begin:::::::::::::::::::::::::::::::::::::::::cms-body-->
        <table class="table table-striped">
          <tbody>
            <tr>
              <td>{{ fieldsInfo["recordStatus"]?.fieldTitle }}:</td>
              <td>
                <i [ngClass]="dataModel.recordStatus | statusIconClass"></i>
              </td>
            </tr>
            <tr>
              <td>{{ fieldsInfo["title"]?.fieldTitle }}:</td>
              <td>{{ dataModel.title }}</td>
            </tr>
            <tr>
              <td>
                <b> {{ fieldsInfo["linkActivityTypeId"]?.fieldTitle }}:</b>
              </td>
              <td>
                <b>{{ dataModel.linkActivityTypeId }}</b>
              </td>
            </tr>
            @if (dataModel.appointmentDateFrom) {
              <tr>
                <td>{{ fieldsInfo["appointmentDateFrom"]?.fieldTitle }}:</td>
                <td>{{ dataModel.appointmentDateFrom | localeDateTime }}</td>
              </tr>
            }
            @if (dataModel.appointmentDateTo) {
              <tr>
                <td>{{ fieldsInfo["appointmentDateTo"]?.fieldTitle }}:</td>
                <td>{{ dataModel.appointmentDateTo | localeDateTime }}</td>
              </tr>
            }
            <tr>
              <td>{{ fieldsInfo["createdBy"]?.fieldTitle }}:</td>
              <td class="input-ltr-right">
                {{ dataModel.createdBy | cmsuserinfo | async }}
              </td>
            </tr>
            @if (dataModel.updatedBy) {
              <tr>
                <td>{{ fieldsInfo["updatedBy"]?.fieldTitle }}:</td>
                <td class="input-ltr-right">
                  {{ dataModel.updatedBy | cmsuserinfo | async }}
                </td>
              </tr>
            }
            @if (dataModel.linkEstateExpertId?.length > 0) {
              <tr>
                <td>{{ fieldsInfo["linkEstateExpertId"]?.fieldTitle }}:</td>
                <td class="input-ltr-right">
                  {{
                  dataModel.linkEstateExpertId | estateAccountExpertInfo | async
                  }}
                </td>
              </tr>
            }
            @if (dataModel.linkEstateAgencyId?.length > 0) {
              <tr>
                <td>{{ fieldsInfo["linkEstateAgencyId"]?.fieldTitle }}:</td>
                <td class="input-ltr-right">
                  {{
                  dataModel.linkEstateAgencyId | estateAccountAgencyInfo | async
                  }}
                </td>
              </tr>
            }
            @if (dataModel.linkPropertyId?.length > 0) {
              <tr>
                <td>{{ fieldsInfo["linkPropertyId"]?.fieldTitle }}:</td>
                <td>
                  {{ dataModel.linkPropertyId | estatePropertyInfo | async }}
                  <button
                    type="button"
                    mat-icon-button
                  (click)="
                    onActionButtonPropertyQuickViewRow(dataModel.linkPropertyId)
                  "
                    >
                    <mat-icon>visibility</mat-icon>
                  </button>
                </td>
              </tr>
            }
            @if (dataModel.linkCustomerOrderId?.length > 0) {
              <tr>
                <td>{{ fieldsInfo["linkCustomerOrderId"]?.fieldTitle }}:</td>
                <td>
                  {{
                  dataModel.linkCustomerOrderId
                  | estateCustomerOrderInfo
                  | async
                  }}
                  <button
                    type="button"
                    mat-icon-button
                  (click)="
                    onActionButtonCustomerOrderQuickViewRow(
                      dataModel.linkCustomerOrderId
                    )
                  "
                    >
                    <mat-icon>visibility</mat-icon>
                  </button>
                </td>
              </tr>
            }
            @if (dataModel.description?.length > 0) {
              <tr>
                <td>{{ "TITLE.General_Description" | translate }}:</td>
                <td>{{ dataModel.description }}</td>
              </tr>
            }
            @if (fieldsInfo['descriptionHidden']?.accessWatchField) {
              <tr>
                <td>{{ "TITLE.Description_Hidden" | translate }}:</td>
                <td>{{ dataModel.descriptionHidden }}</td>
              </tr>
            }
          </tbody>
        </table>
        <!--end:::::::::::::::::::::::::::::::::::::::::cms-body-->
      </div>
      <div class="ntk-cms-html-card-message">
        <!--begin:::::::::::::::::::::::::::::::::::::::::cms-message -->
        <app-cms-form-result-message
          [formInfo]="formInfo"
        ></app-cms-form-result-message>
        <!--end:::::::::::::::::::::::::::::::::::::::::cms-message -->
      </div>
      <div class="ntk-cms-html-card-footer">
        <!--begin:::::::::::::::::::::::::::::::::::::::::cms-footer-->
        @if (formInfo.submitButtonEnabled) {
          <div class="form-actions">
            <button
              type="button"
              (click)="onFormCancel()"
              class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray"
              >
              <i class="ft-x"></i> {{ "ACTION.CANCEL" | translate }}
            </button>
            @if (requestNextItem && requestNextItem?.id?.length > 0) {
              <button
                type="button"
                (click)="onActionNext()"
                class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray"
                >
                <i class="ft-x"></i>
                <
              </button>
            }
            @if (requestPerviousItem && requestPerviousItem?.id?.length > 0) {
              <button
                type="button"
                (click)="onActionPervious()"
                class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray"
                >
                <i class="ft-x"></i>
                >
              </button>
            }
          </div>
        }
        <!--end:::::::::::::::::::::::::::::::::::::::::cms-footer-->
      </div>
    }
    <!--Content-->
  </div>
</div>

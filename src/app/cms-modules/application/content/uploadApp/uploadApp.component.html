<mat-card class="example-card">
  <mat-card-header>
    <div mat-card-avatar class="example-header-image"></div>
    <mat-card-title>{{ dataItemModel.title }}</mat-card-title>
    <mat-card-subtitle>ver : {{ dataItemModel.appVersion }}</mat-card-subtitle>
  </mat-card-header>
  <div class="uploader-wrapper">
    <app-cms-file-uploader
      (optionUploadSuccess)="OnActionUploadSuccess($event)"
      >
    </app-cms-file-uploader>
  </div>
  <app-cms-form-result-message
    [formInfo]="formInfo"
  ></app-cms-form-result-message>
  <form
    (ngSubmit)="onFormSubmit()"
    #vform="ngForm"
    class="form form-horizontal"
    >
    <mat-card-content>
      @if (fieldsInfo['appVersion']?.accessWatchField) {
        <mat-form-field
          class="ntk-full-width"
          >
          <mat-label>{{ fieldsInfo["appVersion"]?.fieldTitle }}</mat-label>
          <input
            matInput
            [(ngModel)]="dataModel.appVersion"
            [disabled]="!fieldsInfo['appVersion']?.accessEditField"
            name="dataModel.appVersion"
            #AppVersion
            type="number"
            placeholder="{{ 'TITLE.version' | translate }}"
            min="0"
            max="1000"
            required
            />
            @if (
              dataModel.appVersion && fieldsInfo['appVersion']?.accessEditField
              ) {
              <mat-icon
                matSuffix
                matSuffix
                mat-icon-button
                aria-label="Clear"
                (click)="dataModel.appVersion = 0"
                >close</mat-icon
                >
            }
            @if (fieldsInfo['appVersion']?.accessEditField) {
              <mat-icon matSuffix
                >mode_edit</mat-icon
                >
              }
              @if (AppVersion.errors?.required) {
                <mat-error>
                  {{ fieldsInfo["appVersion"]?.fieldTitle }} is
                  <strong>{{ "MESSAGE.required" | translate }}</strong>
                </mat-error>
              }
            </mat-form-field>
          }
          @if (fieldsInfo['lastBuildAppKey']?.accessWatchField) {
            <div
              class="input-style has-borders no-icon input-style-always-active validate-field mb-4"
              >
              <label for="dataModel.lastBuildAppKey" class="color-highlight">{{
                fieldsInfo["lastBuildAppKey"]?.fieldTitle
              }}</label>
              <input
                matInput
                [(ngModel)]="dataModel.lastBuildAppKey"
                [disabled]="!fieldsInfo['lastBuildAppKey']?.accessEditField"
                name="dataModel.lastBuildAppKey"
                #LastBuildAppKey
                type="text"
                placeholder="{{ 'TITLE.Key_To_making_app' | translate }}"
                minlength="0"
                maxlength="100"
                required
                class="form-control validate-name"
                id="dataModel.lastBuildAppKey"
                />
                <em>{{ "Application.source.LastBuildAppKey_hint" | translate }}</em>
                <em>{{ LastBuildAppKey.value.length }} / 100</em>
                @if (LastBuildAppKey.errors?.required) {
                  <mat-error>
                    {{ fieldsInfo["lastBuildAppKey"]?.fieldTitle }} is
                    <strong>{{ "MESSAGE.required" | translate }}</strong>
                  </mat-error>
                }
              </div>
            }
          </mat-card-content>
          <mat-card-actions>
            <div class="form-actions">
              @if (formInfo.submitButtonEnabled) {
                <button
                  type="submit"
                  [disabled]="!vform.form.valid"
                  class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
                  >
                  <i class="fa fa-check-square-o"></i>
                  {{ "TITLE.registered" | translate }}
                </button>
              }
              <button
                (click)="onFormCancel()"
                class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray"
                >
                <i class="ft-x"></i> {{ "ACTION.BACK" | translate }}
              </button>
            </div>
          </mat-card-actions>
        </form>
      </mat-card>

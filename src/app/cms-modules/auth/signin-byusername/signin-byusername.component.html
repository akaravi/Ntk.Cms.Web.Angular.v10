<div class="card card-style">
  <div class="content mb-0 loader-container">
    <app-progress-spinner [optionsInfoAreaId]="constructorInfoAreaId">
    </app-progress-spinner>
    <p class="font-800 color-highlight mb-0">
      {{ "TRANSLATOR.WELCOME" | translate }}
    </p>
    <p>
      {{
        "TITLE.To_Login_To_your_Account_Enter_Your_Credentials_Below"
          | translate
      }}
    </p>
    <form
      class="form"
      #vform="ngForm"
      novalidate="novalidate"
      id="kt_login_signin_form"
      (ngSubmit)="onActionSubmit()"
    >
      <!--Email Field-->
      <div class="input-style no-borders has-icon validate-field mb-4">
        <i class="fa fa-user color-highlight"></i>
        <input
          [(ngModel)]="dataModel.email"
          cmsKeyboardForce="en"
          name="dataModel.email"
          id="dataModel.email"
          [disabled]="!formInfo.submitButtonEnabled"
          type="text"
          class="form-control validate-name"
          style="direction: ltr !important; text-align: center"
          placeholder="{{ 'AUTH.INPUT.MOBILE' | translate }} / {{
            'AUTH.INPUT.EMAIL' | translate
          }}"
          autocomplete="off"
          required
        />
        <label for="dataModel.email" class="color-highlight"
          >{{ "AUTH.INPUT.MOBILE" | translate }} /
          {{ "AUTH.INPUT.EMAIL" | translate }}</label
        >
        <i class="fa fa-times disabled invalid color-red-dark"></i>
        <i class="fa fa-check disabled valid color-green-dark"></i>
      </div>
      <!--Password Field-->
      <div
        class="input-style no-borders has-icon validate-field mb-4 position-relative"
      >
        <i class="fa fa-lock color-highlight"></i>
        <input
          [type]="hidePassword ? 'password' : 'text'"
          [(ngModel)]="dataModel.password"
          cmsKeyboardForce="en"
          name="dataModel.password"
          id="dataModel.password"
          [disabled]="!formInfo.submitButtonEnabled"
          #Password
          class="form-control validate-password"
          style="
            direction: ltr !important;
            text-align: center;
            padding-inline-end: 45px;
          "
          placeholder="{{ 'AUTH.INPUT.PASSWORD' | translate }}"
          autocomplete="off"
          required
        />
        <label for="dataModel.password" class="color-highlight">{{
          "AUTH.INPUT.PASSWORD" | translate
        }}</label>
        <i class="fa fa-times disabled invalid color-red-dark"></i>
        <i class="fa fa-check disabled valid color-green-dark"></i>
        <i
          class="fa password-toggle-icon color-highlight"
          [ngClass]="hidePassword ? 'fa-eye' : 'fa-eye-slash'"
          (click)="hidePassword = !hidePassword"
          role="button"
          tabindex="0"
          (keydown.enter)="hidePassword = !hidePassword"
          (keydown.space)="hidePassword = !hidePassword"
          [attr.aria-label]="
            (hidePassword ? 'AUTH.SHOW_PASSWORD' : 'AUTH.HIDE_PASSWORD')
              | translate
          "
          title="{{
            (hidePassword ? 'AUTH.SHOW_PASSWORD' : 'AUTH.HIDE_PASSWORD')
              | translate
          }}"
          style="
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            inset-inline-end: 12px;
            cursor: pointer;
            opacity: 0.6;
            z-index: 5;
          "
        ></i>
      </div>

      @if (!firstRun) {
        <!--captchaText Field-->
        <img
          src="{{ captchaModel.image }}"
          (click)="onCaptchaOrder()"
          class="mb-3"
          alt=""
        />
        <mat-icon matSuffix (click)="onCaptchaOrder()">refresh</mat-icon>
        <div class="input-style no-borders has-icon validate-field mb-4">
          <i class="fa fa-quote-left color-highlight"></i>
          <input
            [(ngModel)]="dataModel.captchaText"
            name="dataModel.captchaText"
            id="dataModel.captchaText"
            [disabled]="!formInfo.submitButtonEnabled"
            type="text"
            class="form-control validate-name"
            minlength="5"
            maxlength="5"
            placeholder="{{ 'AUTH.INPUT.CAPTCHACODE' | translate }}"
            autocomplete="off"
            required
          />
          <label for="dataModel.captchaText" class="color-highlight">{{
            "AUTH.INPUT.CAPTCHACODE" | translate
          }}</label>
          <i class="fa fa-times disabled invalid color-red-dark"></i>
          <i class="fa fa-check disabled valid color-green-dark"></i>
        </div>
      }
      <div
        class="form-check icon-check text-start float-start opacity-50 color-highlight"
      >
        <input
          class="form-check-input"
          type="checkbox"
          value=""
          id="isRemember"
          [(ngModel)]="dataModel.isRemember"
          name="isRemember"
        />
        <label class="form-check-label font-13" for="isRemember">{{
          "TITLE.remember_me" | translate
        }}</label>
        <i class="icon-check-1 far fa-circle color-gray-dark font-14"></i>
        <i class="icon-check-2 fa fa-check-circle font-14 color-highlight"></i>
      </div>

      @if (!onNavigate) {
        <button
          type="submit"
          [disabled]="
            vform.invalid ||
            !formInfo.submitButtonEnabled ||
            !connectionStatus.internetConnection
          "
          style="width: 100%"
          class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
        >
          {{ "AUTH.LOGIN.BUTTON" | translate }}
        </button>
      }
      @if (!onNavigate) {
        <button
          type="button"
          [routerLink]="['/auth/signinbysms']"
          [disabled]="
            !formInfo.submitButtonEnabled ||
            !connectionStatus.internetConnection
          "
          style="width: 100%"
          class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
        >
          {{ "AUTH.LOGIN.SMS" | translate }}
        </button>
      }

      @if (!onNavigate) {
        <div class="row pt-3 mb-3">
          <div class="col-6 text-start">
            <a
              [routerLink]="['/auth/forgot-password']"
              class="color-highlight"
              >{{ "AUTH.FORGOT.TITLE" | translate }}</a
            >
          </div>
          <div class="col-6 text-end">
            <a [routerLink]="['/auth/signup']" class="color-highlight">{{
              "AUTH.GENERAL.SIGNUP_BUTTON" | translate
            }}</a>
          </div>
        </div>
      }
      @if (loadDemoTheme) {
        <div class="divider"></div>
        <a
          class="btn btn-icon text-start btn-full btn-s font-600 font-13 bg-facebook mt-4 rounded-s"
          ><i class="fab fa-facebook-f text-center"></i
          >{{ "AUTH.LOGIN_WITH_FACEBOOK" | translate }}</a
        >
        <a
          class="btn btn-icon text-start btn-full btn-s font-600 font-13 bg-twitter mt-2 rounded-s"
          ><i class="fab fa-twitter text-center"></i
          >{{ "AUTH.LOGIN_WITH_TWITTER" | translate }}</a
        >
        <a
          class="btn btn-icon text-start btn-full btn-s font-600 font-13 bg-dark-dark mt-2 rounded-s"
          ><i class="fab fa-apple text-center"></i
          >{{ "AUTH.LOGIN_WITH_APPLE" | translate }}</a
        >
      }
    </form>
  </div>
</div>

<div class="card card-style loader-container">
  <app-progress-spinner [optionsInfoAreaId]="constructorInfoAreaId">
  </app-progress-spinner>
  <div class="content mb-0">
    <p class="mb-0 color-highlight font-600 font-12">
      {{ formInfo.formTitle }}
    </p>
    <p>
      {{ "TITLE.Be_Careful_When_Entering_Information" | translate }}
    </p>
    <!--Content-->
    <form (ngSubmit)="onFormSubmit()" #vform="ngForm">
      <div class="ntk-cms-html-card-body ntk-allow-text-selection">
        <!--begin:::::::::::::::::::::::::::::::::::::::::cms-body-->
        <app-api-telegram-bot-config-selector
          (optionChange)="onActionSelectorSelect($event)"
          [optionSelectForce]="dataModel.botId"
          [optionPlaceholder]="'TITLE.Telegram_Bot' | translate"
          >
        </app-api-telegram-bot-config-selector>

        <!-- title Field -->
        <div
          class="input-style has-borders no-icon input-style-always-active validate-field mb-4"
          >
          <label for="dataModel.title" class="color-highlight">{{
            "TITLE.title" | translate
          }}</label>
          <input
            type="text"
            [(ngModel)]="dataModel.title"
            name="dataModel.title"
            #title
            type="text"
            placeholder="{{ 'TITLE.Message_Title' | translate }}"
            minlength="3"
            maxlength="100"
            required
            class="form-control validate-name"
            id="dataModel.title"
            />
            @if (!title.value) {
              <i
                class="fa fa-times invalid color-red-dark"
              ></i>
            }
            @if (title.value) {
              <i class="fa fa-check valid color-green-dark"></i>
            }
            <em>{{ title.value.length }} / 100</em>
            @if (title.errors?.required) {
              <mat-error>
                {{ "TITLE.Message_Title" | translate }}
                <strong>{{ "MESSAGE.required" | translate }}</strong>
              </mat-error>
            }
          </div>

          <!-- chatId Field -->
          <div
            class="input-style has-borders no-icon input-style-always-active validate-field mb-4"
            >
            <label for="dataModel.chatId" class="color-highlight">{{
              "MESSAGE.Chat_ID" | translate
            }}</label>
            <textarea
              matInput
              [(ngModel)]="dataModel.chatId"
              name="dataModel.chatId"
              #chatId
              type="text"
              placeholder="{{ 'MESSAGE.Chat_ID' | translate }}"
              minlength="1"
              maxlength="1000"
              rows="5"
              id="dataModel.chatId"
              class="form-control validate-name"
              >
            </textarea>
            <em>{{ chatId.value.length }} / 1000</em>
            @if (chatId.errors?.required) {
              <mat-error>
                {{ "MESSAGE.Chat_ID" | translate }}
                <strong>{{ "MESSAGE.required" | translate }}</strong>
              </mat-error>
            }
          </div>

          <!--end:::::::::::::::::::::::::::::::::::::::::cms-body-->
        </div>

        <div class="ntk-cms-html-card-message">
          <!--begin:::::::::::::::::::::::::::::::::::::::::cms-message -->
          <app-cms-form-result-message
            [formInfo]="formInfo"
          ></app-cms-form-result-message>
          <!--end:::::::::::::::::::::::::::::::::::::::::cms-message -->
        </div>

        <div class="ntk-cms-html-card-footer">
          <!--begin:::::::::::::::::::::::::::::::::::::::::cms-footer-->

          @if (formInfo.submitButtonEnabled) {
            <div class="form-actions">
              <button
                type="button"
                (click)="onFormCancel()"
                class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray"
                >
                <i class="ft-x"></i> {{ "ACTION.CANCEL" | translate }}
              </button>
              <button
                type="submit"
                class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green"
                [disabled]="!vform.form.valid"
                >
                <i class="fa fa-check-square-o"></i>
                {{ "ACTION.Send_Message" | translate }}
              </button>
            </div>
          }
          <!--end:::::::::::::::::::::::::::::::::::::::::cms-footer-->
        </div>
      </form>
      <!--Content-->
    </div>
  </div>
